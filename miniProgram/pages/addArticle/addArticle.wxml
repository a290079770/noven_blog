<view class='add-article-wrap'>
  <view class='add-article-title'>
    <input class="add-article-title-input"
      focus
      maxlength="-1"
      placeholder="请输入文章标题"
      placeholder-style="color:#bbb;font-size:28rpx;"
      selection-start="{{0}}"
      selection-end="{{30}}"
      value="{{ addArticle.Title }}"
      name="Title"
      bindinput="inputTitleAction"></input>
    <view class="text-wrap">
      <text>您最多可以输入30个字符</text>
      <text><text class="current-length">{{ currentLength.Title }}</text> / 30</text>
    </view>
  </view>
  
  <view class='add-article-cover-wrap flex' bindtap='updateCover'>
    <text wx:if='{{ !addArticle.Url }}'>+上传封面</text>
    <image wx:else class='add-article-cover'  src='{{ addArticle.Url }}'></image>
  </view>

  <view class='add-article-brief'>
    <textarea placeholder-style="color:#bbb;font-size:28rpx;"
      class="add-article-brief-input"
      maxlength="-1"
      placeholder="请输入文章简介！" 
      value="{{ addArticle.Brief }}"
      name="Brief"
      bindinput="inputBriefAction">
    </textarea>
    <view class="text-wrap">
      <text>您最多可以输入280个字符</text>
      <text><text class="current-length">{{ currentLength.Brief }}</text> / 280</text>
    </view>
  </view>

  <!-- 修改文章 内容回显 -->
  <view class='add-article-con-wrap' wx:if="{{ hasStorageDetailData }}">
    <view wx:if="{{ conIsArray }}">
      <view wx:for="{{ addArticle.Content }}" wx:key="id">
        <view class='flex' wx:if='{{ item.type == "text" }}'>
          <textarea placeholder-style="color:#bbb;font-size:28rpx;"
            class="add-article-brief-input"
            maxlength="-1"
            placeholder="请输入文章文本段落！" 
            value="{{ item.value }}"
            bindinput="inputParaAction">
          </textarea>
        </view>
        <view class='add-article-paragraph-img' wx:elif='{{ item.type == "img" }}'>
          <view class='paragraph-img-box flex' bindtap='addArticleImg'>
            <image wx:if='{{ !item.value }}' mode='aspectFill' class='add-article-img-icon' src='/images/addArticle/add.svg'></image>
            <image wx:else mode='aspectFill' class='paragraph-img' src='{{ item.value }}'></image>
          </view>
          <view class='paragraph-img-desc'>
            <textarea placeholder-style="color:#ccc;font-size:28rpx;"
              class="add-article-img-desc-input"
              maxlength="-1"
              placeholder="请输入文章图片描述！" 
              value="{{ item.desc || '暂无图片描述' }}"
              bindinput="inputImgDescAction">
            </textarea>
          </view>
        </view>
      </view>
    </view>
    <view wx:else>
      <view class='flex'>
        <textarea placeholder-style="color:#bbb;font-size:28rpx;"
          class="add-article-brief-input"
          maxlength="-1"
          placeholder="请输入文章文本段落！" 
          value="{{ addArticle.Content }}"
          bindinput="inputParaAction">
        </textarea>
      </view>
    </view>
  </view>

  <!-- 新增文章 -->
  <view class='add-article-con-wrap' wx:else>
    <view class='flex'>
      <textarea placeholder-style="color:#bbb;font-size:28rpx;"
        class="add-article-brief-input"
        maxlength="-1"
        placeholder="请输入文章文本段落！222" 
        value="{{ paragraph }}"
        bindinput="inputParaAction">
      </textarea>
    </view>

    <view class='add-article-paragraph-img'>
        <view class='paragraph-img-box flex' bindtap='addArticleImg'>
          <image wx:if='{{ img }}' mode='aspectFill' class='paragraph-img' src='{{ img }}'></image>
          <image wx:else mode='aspectFill' class='add-article-img-icon' src='/images/addArticle/add.svg'></image>
        </view>
        <view class='paragraph-img-desc'>
          <textarea placeholder-style="color:#ccc;font-size:28rpx;"
            class="add-article-img-desc-input"
            maxlength="-1"
            selection-start="{{0}}"
            selection-end="{{280}}"
            placeholder="请输入文章图片描述！您最多可以输入190个字符" 
            value="{{ imgDes }}"
            bindinput="inputImgDescAction">
          </textarea>
        </view>
      </view>
  </view>

  <view class="add-article-btn" bindtap="addOrEditArticle">{{ hasStorageDetailData ? "修改文章" : "发布文章" }}</view>
</view>